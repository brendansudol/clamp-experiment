{"version":3,"sources":["Clamp.js","App.js","index.js"],"names":["BASE_STYLES","overflow","display","WebkitBoxOrient","Clamp","className","text","lineCount","renderShowMore","renderShowLess","useState","isClamped","setIsClamped","isExpanded","setIsExpanded","style","useMemo","WebkitLineClamp","clampRef","useCallback","el","scrollHeight","clientHeight","doesTextOverflowLines","handleExpand","handleCollapse","ref","SAMPLE_TEXT","App","href","rel","target","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAEMA,EAAc,CAClBC,SAAU,SACVC,QAAS,cACTC,gBAAiB,YAGZ,SAASC,EAAT,GAMH,IALFC,EAKC,EALDA,UACAC,EAIC,EAJDA,KAIC,IAHDC,iBAGC,MAHW,EAGX,EAFDC,EAEC,EAFDA,eACAC,EACC,EADDA,eAEA,EAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAoCF,oBAAS,GAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KAEMC,EAAQC,mBACZ,8BAAC,eACIhB,GADL,IAEEiB,gBAAiBJ,EAAa,UAAYN,MAE5C,CAACA,EAAWM,IAGRK,EAAWC,uBAAY,SAACC,GAClB,MAANA,GAqBR,SAA+BA,GAC7B,OAAOA,EAAGC,aAAeD,EAAGE,aArBtBC,CAAsBH,IAAKR,GAAa,KAC3C,IAEGY,EAAeL,uBAAY,kBAAML,GAAc,KAAO,IACtDW,EAAiBN,uBAAY,kBAAML,GAAc,KAAQ,IAE/D,OACE,sBAAKT,UAAWA,EAAhB,UACE,qBAAKU,MAAOA,EAAOW,IAAKR,EAAxB,SACGZ,IAEFK,IACEE,GACiB,MAAlBL,GACAA,EAAegB,GAChBX,GAAgC,MAAlBJ,GAA0BA,EAAegB,MCzC9D,IAAME,EAAW,qVAMV,SAASC,IACd,OACE,gCACE,4BACE,mBACEC,KAAK,mDACLC,IAAI,aACJC,OAAO,SAHT,kCASF,4EACA,cAAC3B,EAAD,CAAOC,UAAU,UAAUC,KAAMqB,EAAapB,UAAW,IAEzD,gEACA,cAACH,EAAD,CACEC,UAAU,UACVC,KAAMqB,EACNpB,UAAW,EACXC,eAAgBA,EAChBC,eAAgBA,IAGlB,kHAIA,cAACL,EAAD,CACEC,UAAU,UACVC,KAAMqB,EACNpB,UAAW,GACXC,eAAgBA,EAChBC,eAAgBA,OAMxB,SAASD,EAAewB,GACtB,OAAO,wBAAQA,QAASA,EAAjB,uBAGT,SAASvB,EAAeuB,GACtB,OAAO,wBAAQA,QAASA,EAAjB,uB,MC/CTC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACP,EAAD,MAEFQ,SAASC,eAAe,W","file":"static/js/main.e2e859c7.chunk.js","sourcesContent":["import React, { useCallback, useMemo, useState } from \"react\"\n\nconst BASE_STYLES = {\n  overflow: \"hidden\",\n  display: \"-webkit-box\",\n  WebkitBoxOrient: \"vertical\",\n}\n\nexport function Clamp({\n  className,\n  text,\n  lineCount = 2,\n  renderShowMore,\n  renderShowLess,\n}) {\n  const [isClamped, setIsClamped] = useState(false)\n  const [isExpanded, setIsExpanded] = useState(false)\n\n  const style = useMemo(\n    () => ({\n      ...BASE_STYLES,\n      WebkitLineClamp: isExpanded ? \"inherit\" : lineCount,\n    }),\n    [lineCount, isExpanded]\n  )\n\n  const clampRef = useCallback((el) => {\n    if (el == null) return\n    if (doesTextOverflowLines(el)) setIsClamped(true)\n  }, [])\n\n  const handleExpand = useCallback(() => setIsExpanded(true), [])\n  const handleCollapse = useCallback(() => setIsExpanded(false), [])\n\n  return (\n    <div className={className}>\n      <div style={style} ref={clampRef}>\n        {text}\n      </div>\n      {isClamped &&\n        !isExpanded &&\n        renderShowMore != null &&\n        renderShowMore(handleExpand)}\n      {isExpanded && renderShowLess != null && renderShowLess(handleCollapse)}\n    </div>\n  )\n}\n\nfunction doesTextOverflowLines(el) {\n  return el.scrollHeight > el.clientHeight\n}\n","import { Clamp } from \"./Clamp\"\n\nconst SAMPLE_TEXT = `Lorem ipsum dolor sit amet, consectetur adipiscing elit,\nsed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris\nnisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in\nreprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.`\n\nexport function App() {\n  return (\n    <div>\n      <p>\n        <a\n          href=\"https://github.com/brendansudol/clamp-experiment\"\n          rel=\"noreferrer\"\n          target=\"_blank\"\n        >\n          source code â†’\n        </a>\n      </p>\n\n      <h4>3 line clamp, no \"show more/less\" buttons:</h4>\n      <Clamp className=\"example\" text={SAMPLE_TEXT} lineCount={3} />\n\n      <h4>with \"show more/less\" buttons:</h4>\n      <Clamp\n        className=\"example\"\n        text={SAMPLE_TEXT}\n        lineCount={3}\n        renderShowMore={renderShowMore}\n        renderShowLess={renderShowLess}\n      />\n\n      <h4>\n        \"show more/less\" buttons not rendered because text doesn't overflow\n        `lineCount`\n      </h4>\n      <Clamp\n        className=\"example\"\n        text={SAMPLE_TEXT}\n        lineCount={30}\n        renderShowMore={renderShowMore}\n        renderShowLess={renderShowLess}\n      />\n    </div>\n  )\n}\n\nfunction renderShowMore(onClick) {\n  return <button onClick={onClick}>show more</button>\n}\n\nfunction renderShowLess(onClick) {\n  return <button onClick={onClick}>show less</button>\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { App } from \"./App\"\n\nimport \"./index.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}